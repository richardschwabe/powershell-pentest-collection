# Define file paths
$inputFilePath = "input.txt"
$reachableFilePath = "reachable.txt"
$notReachableFilePath = "not-reachable.txt"

# Read IP addresses from the input file
$ipAddresses = Get-Content -Path $inputFilePath

# Loop through each IP address and ping
foreach ($ip in $ipAddresses) {
    $pingResult = Test-Connection -ComputerName $ip -Count 2 -Quiet

    # Check if the ping was successful
    if ($pingResult) {
        # Write to reachable.txt
        Add-Content -Path $reachableFilePath -Value $ip
        Write-Host "Ping to $ip successful. Added to $reachableFilePath."
    }
    else {
        # Write to not-reachable.txt
        Add-Content -Path $notReachableFilePath -Value $ip
        Write-Host "Ping to $ip failed. Added to $notReachableFilePath."
    }
}